{"uid":"df565c7ad8347948","name":"test_redeploy_charm_same_model_after_forcing_removal","fullName":"tests.integration.test_charm#test_redeploy_charm_same_model_after_forcing_removal","historyId":"ca9aac0977186ec16e8b66c76fd09de6","time":{"start":1728872403096,"stop":1728872785262,"duration":382166},"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","descriptionHtml":"<p>Redeploy the charm in the same model to test that it works after a forceful removal.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1728869885539,"stop":1728869885540,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1728869885540,"stop":1728869886226,"duration":686},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1728869885540,"stop":1728869885540,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1728872403095,"stop":1728872403095,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","status":"passed","steps":[],"attachments":[{"uid":"7ba83c811b65c666","name":"log","source":"7ba83c811b65c666.txt","type":"text/plain","size":2975}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1728872785263,"stop":1728872785263,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1728872974788,"stop":1728872975692,"duration":904},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1728872975693,"stop":1728872975694,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1728872975694,"stop":1728872975694,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1728872975694,"stop":1728872975694,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"github-runner"},{"name":"thread","value":"36662-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"bf32bb9374a81fb5","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":5,"broken":9,"skipped":33,"passed":35,"unknown":42,"total":124},"items":[{"uid":"5874f18d4fdb303a","reportUrl":"../205//#testresult/5874f18d4fdb303a","status":"passed","time":{"start":1728785458092,"stop":1728785795524,"duration":337432}},{"uid":"bda3ce9f1179863c","reportUrl":"../204//#testresult/bda3ce9f1179863c","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1728698100567,"stop":1728698100567,"duration":0}},{"uid":"99a1c0dcd22aa620","reportUrl":"../202//#testresult/99a1c0dcd22aa620","status":"passed","time":{"start":1728612724841,"stop":1728613084916,"duration":360075}},{"uid":"2143e87f6af5dd5c","reportUrl":"../201//#testresult/2143e87f6af5dd5c","status":"passed","time":{"start":1728526897120,"stop":1728527259359,"duration":362239}},{"uid":"c311c63b15907a21","reportUrl":"../200//#testresult/c311c63b15907a21","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1728438895785,"stop":1728438895785,"duration":0}},{"uid":"14519c58fdaa2a46","reportUrl":"../199//#testresult/14519c58fdaa2a46","status":"passed","time":{"start":1728353387168,"stop":1728353734294,"duration":347126}},{"uid":"46cdf647b250e0e5","reportUrl":"../198//#testresult/46cdf647b250e0e5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1728265915046,"stop":1728265915046,"duration":0}},{"uid":"9d47ab68977953e5","reportUrl":"../197//#testresult/9d47ab68977953e5","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql-k8s/0 [allocating] waiting: agent initialising\n  postgresql-k8s/1 [allocating] waiting: agent initialising\n  postgresql-k8s/2 [allocating] waiting: agent initialising","time":{"start":1728180645767,"stop":1728181666893,"duration":1021126}},{"uid":"d91ddb43ca7271f8","reportUrl":"../196//#testresult/d91ddb43ca7271f8","status":"passed","time":{"start":1728094255175,"stop":1728094634094,"duration":378919}},{"uid":"5d8b024eed8200db","reportUrl":"../195//#testresult/5d8b024eed8200db","status":"passed","time":{"start":1728007917114,"stop":1728008287384,"duration":370270}},{"uid":"67ad832aff8c5908","reportUrl":"../194//#testresult/67ad832aff8c5908","status":"passed","time":{"start":1727921516303,"stop":1727921876290,"duration":359987}},{"uid":"e7378cb6c1dc7369","reportUrl":"../193//#testresult/e7378cb6c1dc7369","status":"unknown","time":{}},{"uid":"7b581f3c15ef92cc","reportUrl":"../192//#testresult/7b581f3c15ef92cc","status":"passed","time":{"start":1727748525734,"stop":1727748889368,"duration":363634}},{"uid":"80a2089feb3faf75","reportUrl":"../191//#testresult/80a2089feb3faf75","status":"passed","time":{"start":1727662174058,"stop":1727662539879,"duration":365821}},{"uid":"e72ef41bdd461629","reportUrl":"../190//#testresult/e72ef41bdd461629","status":"failed","statusDetails":"AssertionError: assert set() == {'Endpoints/p...eplicas', ...}\n  \n  Extra items in the right set:\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s-config\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s-sync\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/patroni-postgresql-k8s-config\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[92m+ set()\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- {\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s-config',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s-sync',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/patroni-postgresql-k8s-config',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- }\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1727575171218,"stop":1727575172187,"duration":969}},{"uid":"122b51d99f20362e","reportUrl":"../189//#testresult/122b51d99f20362e","status":"passed","time":{"start":1727489391578,"stop":1727489791070,"duration":399492}},{"uid":"52aee7ee7be1768b","reportUrl":"../188//#testresult/52aee7ee7be1768b","status":"failed","statusDetails":"AssertionError: assert set() == {'Endpoints/p...eplicas', ...}\n  \n  Extra items in the right set:\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/patroni-postgresql-k8s-config\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s-config\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/patroni-postgresql-k8s-sync\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[92m+ set()\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- {\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s-config',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/patroni-postgresql-k8s-sync',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/patroni-postgresql-k8s-config',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m- }\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1727402666402,"stop":1727402667957,"duration":1555}},{"uid":"c2bd740fc529a177","reportUrl":"../187//#testresult/c2bd740fc529a177","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1727315412410,"stop":1727315412410,"duration":0}},{"uid":"aa136522765f4a5b","reportUrl":"../185//#testresult/aa136522765f4a5b","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1727229068822,"stop":1727229068822,"duration":0}},{"uid":"4771b2bf963660c8","reportUrl":"../184//#testresult/4771b2bf963660c8","status":"passed","time":{"start":1727144952632,"stop":1727145817138,"duration":864506}}]},"tags":["asyncio","group(1)"]},"source":"df565c7ad8347948.json","parameterValues":[]}