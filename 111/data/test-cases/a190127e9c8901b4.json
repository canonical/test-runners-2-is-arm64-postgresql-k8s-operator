{"uid":"a190127e9c8901b4","name":"test_automatic_failover_after_leader_issue","fullName":"tests.integration.test_charm#test_automatic_failover_after_leader_issue","historyId":"22f2df08848fe83f5d642391896dad33","time":{"start":1720923888030,"stop":1720923912975,"duration":24945},"description":"Tests that an automatic failover is triggered after an issue happens in the leader.","descriptionHtml":"<p>Tests that an automatic failover is triggered after an issue happens in the leader.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1720921139454,"stop":1720921139455,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1720921139455,"stop":1720921140493,"duration":1038},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1720921139455,"stop":1720921139455,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1720923888030,"stop":1720923888030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests that an automatic failover is triggered after an issue happens in the leader.","status":"passed","steps":[],"attachments":[{"uid":"106db8bb72c667ea","name":"log","source":"106db8bb72c667ea.txt","type":"text/plain","size":173}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1720923912979,"stop":1720923912979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1720924956700,"stop":1720924957660,"duration":960},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1720924957664,"stop":1720924957670,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1720924957670,"stop":1720924957671,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1720924957671,"stop":1720924957671,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"openstack-arm-large-20-91255cf0dcb0cad9370833ae"},{"name":"thread","value":"36201-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ea1316a6581ee497","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":6,"skipped":9,"passed":2,"unknown":16,"total":33},"items":[{"uid":"7a1686d6907ceda","reportUrl":"../110//#testresult/7a1686d6907ceda","status":"unknown","time":{}},{"uid":"d172c4648d1e583c","reportUrl":"../109//#testresult/d172c4648d1e583c","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1720748216589,"stop":1720748216589,"duration":0}},{"uid":"8ba6b94a7e44bdac","reportUrl":"../107//#testresult/8ba6b94a7e44bdac","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1720575246785,"stop":1720575246785,"duration":0}},{"uid":"3a41053ba266e097","reportUrl":"../106//#testresult/3a41053ba266e097","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1720490003870,"stop":1720490003870,"duration":0}},{"uid":"9a597ab3906e80fc","reportUrl":"../105//#testresult/9a597ab3906e80fc","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1720402938485,"stop":1720402938485,"duration":0}},{"uid":"165fcd803a72203d","reportUrl":"../104//#testresult/165fcd803a72203d","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0xffff87aa1300 state=finished raised ConnectionClosedError>]","time":{"start":1720317432116,"stop":1720317584478,"duration":152362}},{"uid":"f85d322bcc540678","reportUrl":"../103//#testresult/f85d322bcc540678","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'run'","time":{"start":1720231945942,"stop":1720232024727,"duration":78785}},{"uid":"99b4a2bf4c790174","reportUrl":"../102//#testresult/99b4a2bf4c790174","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1720143503087,"stop":1720143503087,"duration":0}},{"uid":"618837617e9023dc","reportUrl":"../101//#testresult/618837617e9023dc","status":"unknown","time":{}},{"uid":"e27ab4ed2fe1bc8e","reportUrl":"../100//#testresult/e27ab4ed2fe1bc8e","status":"unknown","time":{}},{"uid":"17370353de777440","reportUrl":"../99//#testresult/17370353de777440","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1719884890064,"stop":1719884890064,"duration":0}},{"uid":"1717f828ac57e498","reportUrl":"../98//#testresult/1717f828ac57e498","status":"passed","time":{"start":1719800047007,"stop":1719800066346,"duration":19339}},{"uid":"9db8c78dc742ab6d","reportUrl":"../97//#testresult/9db8c78dc742ab6d","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1719711125901,"stop":1719711125901,"duration":0}},{"uid":"a5ff049f6b07f0a2","reportUrl":"../96//#testresult/a5ff049f6b07f0a2","status":"broken","statusDetails":"urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='127.0.0.1', port=16443): Max retries exceeded with url: /api/v1/namespaces/controller-microk8s-localhost/services/controller-service (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0xffffb73da7d0>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1719625534064,"stop":1719625534064,"duration":0}},{"uid":"ef50fd60e18829e9","reportUrl":"../95//#testresult/ef50fd60e18829e9","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1719538651458,"stop":1719538651458,"duration":0}},{"uid":"5d8de48cacfb097f","reportUrl":"../94//#testresult/5d8de48cacfb097f","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0xffffb7afc6d0 state=finished raised ConnectionClosedError>]","time":{"start":1719454529129,"stop":1719454681276,"duration":152147}},{"uid":"8e75f4570d2f5faf","reportUrl":"../91//#testresult/8e75f4570d2f5faf","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0xffff97edb520 state=finished raised Exception>]","time":{"start":1719367485206,"stop":1719367637866,"duration":152660}},{"uid":"6e13a1cb02d14922","reportUrl":"../89//#testresult/6e13a1cb02d14922","status":"unknown","time":{}},{"uid":"cb8b92564689e6a4","reportUrl":"../88//#testresult/cb8b92564689e6a4","status":"unknown","time":{}},{"uid":"88bef6a7df7dfc72","reportUrl":"../85//#testresult/88bef6a7df7dfc72","status":"unknown","time":{}}]},"tags":["asyncio","group(1)"]},"source":"a190127e9c8901b4.json","parameterValues":[]}